"use strict";(globalThis["webpackChunktugas_akhir_smart_greenhouse"]=globalThis["webpackChunktugas_akhir_smart_greenhouse"]||[]).push([[580],{7580:(e,t,a)=>{a.r(t),a.d(t,{default:()=>We});var s=a(9835),r=a(6970);const l={key:0},o={class:"q-pa-md"},n={class:"q-pa-md"},i={class:"column"},c={class:"row"},d=(0,s._)("div",{class:"col-6 text-h6"},"Dashboard",-1),u={class:"col-6"},m={class:"text-right text-h6",style:{margin:"0"}},p={class:"text-right text-caption",style:{margin:"0"}},g={class:"col-12"},h={class:"column"},_={class:"q-pt-lg col-12 flex flex center"},v={class:"item-start"},f={class:"row"},w={class:"q-pt-md"},q={class:"q-py-md"},x=(0,s._)("div",{class:"q-pa-lg text-grey-9 text-h5 text-center flex flex-center",style:{"padding-top":"60px"}}," WELCOME TO GREENHOUSE UBL ",-1),U=(0,s._)("div",null,null,-1),k={key:1},y={class:"q-pa-md"},D={class:"q-pa-md"},W={class:"row"},C={class:"col-8"},T={class:"q-pl-lg col-4"},b={class:"item-start"},Z={class:"row"},A={class:"row"},S={class:"col-4 text-start"},Q={class:"flex flex-center"},z={class:"col-8 text-center"},E={class:"flex flex-center"},P={class:"q-pt-none"},j={class:"q-py-md"},L=(0,s._)("div",{class:"q-pa-lg text-grey-9 text-h4 flex flex-center",style:{"padding-top":"60px"}}," WELCOME TO GREENHOUSE UBL ",-1),O=(0,s._)("div",null,null,-1);function R(e,t,a,R,I,M){const V=(0,s.up)("q-carousel-slide"),B=(0,s.up)("q-carousel"),F=(0,s.up)("UserChart"),$=(0,s.up)("AlatChart"),G=(0,s.up)("q-card"),H=(0,s.up)("q-icon"),N=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(N,null,{default:(0,s.w5)((()=>[e.$q.screen.xs||e.$q.screen.sm?((0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",o,[(0,s.Wm)(G,null,{default:(0,s.w5)((()=>[(0,s._)("div",n,[(0,s._)("div",i,[(0,s._)("div",c,[d,(0,s._)("div",u,[(0,s._)("p",m,[(0,s._)("strong",null,(0,r.zw)(I.currentedTime),1)]),(0,s._)("p",p,[(0,s._)("strong",null,(0,r.zw)(M.dateFormated),1)])])]),(0,s._)("div",g,[(0,s.Wm)(B,{class:"caro",animated:"",modelValue:I.slide,"onUpdate:modelValue":t[0]||(t[0]=e=>I.slide=e),navigation:"",infinite:"",autoplay:I.autoplay,arrows:"","transition-prev":"slide-right","transition-next":"slide-left",onMouseenter:t[1]||(t[1]=e=>I.autoplay=!1),onMouseleave:t[2]||(t[2]=e=>I.autoplay=!0)},{default:(0,s.w5)((()=>[(0,s.Wm)(V,{name:1,"img-src":"https://img.freepik.com/free-photo/seedlings-planting-tray_1150-23158.jpg?w=740&t=st=1660399575~exp=1660400175~hmac=4906859723bb91d81f4c"}),(0,s.Wm)(V,{name:2,"img-src":"https://img.freepik.com/premium-photo/boldo-leaf-garden-rio-de-janeiro-brazil_63139-2000.jpg?w=740"}),(0,s.Wm)(V,{name:3,"img-src":"https://img.freepik.com/premium-photo/beautiful-tropical-garden-long-shot_23-2148245256.jpg?w=740"}),(0,s.Wm)(V,{name:4,"img-src":"https://img.freepik.com/premium-photo/top-view-composition-plants-pots_23-2148509902.jpg?w=740"})])),_:1},8,["modelValue","autoplay"])]),(0,s._)("div",h,[(0,s._)("div",_,[(0,s._)("div",v,[(0,s._)("div",f,[(0,s.Wm)(G,{flat:"",class:"q-py-none q-pr-none q-pl-sm row"},{default:(0,s.w5)((()=>[(0,s._)("div",w,[(0,s.Wm)(F)]),(0,s._)("div",q,[(0,s.Wm)($)])])),_:1})])])])])]),x,U])])),_:1})])])):(0,s.kq)("",!0),e.$q.screen.md||e.$q.screen.lg||e.$q.screen.xl?((0,s.wg)(),(0,s.iD)("div",k,[(0,s._)("div",y,[(0,s.Wm)(G,null,{default:(0,s.w5)((()=>[(0,s._)("div",D,[(0,s._)("div",W,[(0,s._)("div",C,[(0,s.Wm)(B,{animated:"",modelValue:I.slide,"onUpdate:modelValue":t[3]||(t[3]=e=>I.slide=e),navigation:"",infinite:"",autoplay:I.autoplay,arrows:"","transition-prev":"slide-right","transition-next":"slide-left",onMouseenter:t[4]||(t[4]=e=>I.autoplay=!1),onMouseleave:t[5]||(t[5]=e=>I.autoplay=!0)},{default:(0,s.w5)((()=>[(0,s.Wm)(V,{name:1,"img-src":"https://img.freepik.com/free-photo/seedlings-planting-tray_1150-23158.jpg?w=740&t=st=1660399575~exp=1660400175~hmac=4906859723bb91d81f4c"}),(0,s.Wm)(V,{name:2,"img-src":"https://img.freepik.com/premium-photo/boldo-leaf-garden-rio-de-janeiro-brazil_63139-2000.jpg?w=740"}),(0,s.Wm)(V,{name:3,"img-src":"https://img.freepik.com/premium-photo/beautiful-tropical-garden-long-shot_23-2148245256.jpg?w=740"}),(0,s.Wm)(V,{name:4,"img-src":"https://img.freepik.com/premium-photo/top-view-composition-plants-pots_23-2148509902.jpg?w=740"})])),_:1},8,["modelValue","autoplay"])]),(0,s._)("div",T,[(0,s._)("div",b,[(0,s._)("div",Z,[(0,s.Wm)(G,{flat:"",class:"q-py-none q-pr-none q-pl-sm"},{default:(0,s.w5)((()=>[(0,s._)("div",A,[(0,s._)("p",S,[(0,s._)("strong",Q,[(0,s.Wm)(H,{class:"q-pr-xs",name:"schedule"}),(0,s.Uk)(" "+(0,r.zw)(I.currentTime),1)])]),(0,s._)("p",z,[(0,s._)("strong",E,[(0,s.Wm)(H,{class:"q-pr-xs",name:"today"}),(0,s.Uk)(" "+(0,r.zw)(M.formattedDate),1)])])]),(0,s._)("div",P,[(0,s.Wm)(F)]),(0,s._)("div",j,[(0,s.Wm)($)])])),_:1})])])])]),L,O])])),_:1})])])):(0,s.kq)("",!0)])),_:1})}var I=a(1569);const M={class:"q-px-md"},V=(0,s._)("div",{class:"q-py-none flex flex-center"},[(0,s._)("strong",null,"ALAT")],-1),B={class:"flex flex-center row"},F={class:"column q-pa-md"},$={class:"q-mt-md"},G={class:"q-mb-sm"};function H(e,t,a,l,o,n){const i=(0,s.up)("q-circular-progress"),c=(0,s.up)("q-badge"),d=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)("div",M,[(0,s.Wm)(d,{class:"q-py-sm",bordered:""},{default:(0,s.w5)((()=>[V,(0,s._)("div",B,[(0,s.Wm)(i,{"show-value":"","font-size":"14px",value:o.usedPercentage,size:"100px",thickness:.4,color:"green-7","track-color":"green-2",class:"q-ma-md"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(o.totalAlat||0)+" Alat ",1)])),_:1},8,["value"]),(0,s._)("div",F,[(0,s._)("div",$,[(0,s.Wm)(c,{color:"green-7",rounded:"",class:"q-mr-sm"}),(0,s.Uk)("Digunakan: "+(0,r.zw)(o.alatCounts[2]||0),1)]),(0,s._)("div",G,[(0,s.Wm)(c,{color:"green-2",rounded:"",class:"q-mr-sm"}),(0,s.Uk)("Tidak Digunakan: "+(0,r.zw)(o.alatCounts[1]||0),1)])])])])),_:1})])}const N={name:"AlatChart",data(){return{data:[],alatCounts:{},totalAlat:0,usedPercentage:0}},mounted(){this.getDataAlat()},methods:{getDataAlat(){I.api.get("alat/get").then((e=>{console.log(e.data.data),this.data=e.data.data,this.countAlatStatus(),this.calculateUsedPercentage()}))},countAlatStatus(){this.alatCounts=this.data.reduce(((e,t)=>(t.STATUS in e?e[t.STATUS]++:e[t.STATUS]=1,e)),{}),this.totalAlat=Object.values(this.alatCounts).reduce(((e,t)=>e+t),0)},calculateUsedPercentage(){const e=this.alatCounts[2]||0;this.usedPercentage=e/this.totalAlat*100}}};var J=a(1639),K=a(4458),X=a(3302),Y=a(990),ee=a(9984),te=a.n(ee);const ae=(0,J.Z)(N,[["render",H]]),se=ae;te()(N,"components",{QCard:K.Z,QCircularProgress:X.Z,QBadge:Y.Z});const re={class:"q-px-md"},le=(0,s._)("div",{class:"q-py-none flex flex-center"},[(0,s._)("strong",null,"USER")],-1),oe={class:"flex flex-center row"},ne={class:"column q-pa-md"},ie={class:"q-mt-md"},ce={class:"q-mb-sm"};function de(e,t,a,l,o,n){const i=(0,s.up)("q-circular-progress"),c=(0,s.up)("q-badge"),d=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)("div",re,[(0,s.Wm)(d,{class:"q-py-sm",bordered:""},{default:(0,s.w5)((()=>[le,(0,s._)("div",oe,[(0,s.Wm)(i,{"show-value":"","font-size":"14px",value:o.userPercentage,size:"100px",thickness:.4,color:"purple-7","track-color":"purple-2",class:"q-ma-md"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(o.totalUsers||0)+" Users ",1)])),_:1},8,["value"]),(0,s._)("div",ne,[(0,s._)("div",ie,[(0,s.Wm)(c,{color:"purple-7",rounded:"",class:"q-mr-sm"}),(0,s.Uk)("Admin: "+(0,r.zw)(o.userCounts[0]||0),1)]),(0,s._)("div",ce,[(0,s.Wm)(c,{color:"purple-2",rounded:"",class:"q-mr-sm"}),(0,s.Uk)("Regular Users: "+(0,r.zw)(o.userCounts[1]||0),1)])])])])),_:1})])}const ue={name:"UserChart",data(){return{userData:[],userCounts:{},totalUsers:0,userPercentage:0}},mounted(){this.getUserData()},methods:{getUserData(){I.api.get("user/get").then((e=>{console.log(e.data.data),this.userData=e.data.data,this.countUserRoles(),this.calculateUserPercentage()}))},countUserRoles(){this.userCounts=this.userData.reduce(((e,t)=>(t.ROLE in e?e[t.ROLE]++:e[t.ROLE]=1,e)),{}),this.totalUsers=Object.values(this.userCounts).reduce(((e,t)=>e+t),0)},calculateUserPercentage(){const e=this.userCounts[0]||0;this.userPercentage=e/this.totalUsers*100}}},me=(0,J.Z)(ue,[["render",de]]),pe=me;te()(ue,"components",{QCard:K.Z,QCircularProgress:X.Z,QBadge:Y.Z});const ge={name:"DashboardPage",components:{AlatChart:se,UserChart:pe},data(){return{selectedDate:new Date,currentTime:this.formatTime(new Date),currentedTime:this.timeFormat(new Date),slide:1,autoplay:!0}},mounted(){this.updateTime(),this.interval=setInterval(this.updateTime,1e3)},beforeUnmount(){clearInterval(this.interval)},methods:{updateTime(){const e=new Date;this.currentTime=this.formatTime(e),this.currentedTime=this.timeFormat(e)},formatTime(e){const t={hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},a=new Date(e).toLocaleTimeString(void 0,t);return a.startsWith("24:")?a.replace("24:","00:"):a},timeFormat(e){const t={hour:"2-digit",minute:"2-digit",hour12:!1},a=new Date(e).toLocaleTimeString(void 0,t);return a.startsWith("24:")?a.replace("24:","00:"):a}},computed:{formattedDate(){const e={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(this.selectedDate).toLocaleDateString("id-ID",e)},dateFormated(){const e={weekday:"short",month:"numeric",day:"numeric"};return new Date(this.selectedDate).toLocaleDateString("id-ID",e)}}};var he=a(9885),_e=a(7052),ve=a(1694),fe=a(2857),we=a(335),qe=a(3190),xe=a(8879),Ue=a(926),ke=a(1821),ye=a(136);const De=(0,J.Z)(ge,[["render",R]]),We=De;te()(ge,"components",{QPage:he.Z,QCard:K.Z,QCarousel:_e.Z,QCarouselSlide:ve.Z,QIcon:fe.Z,QImg:we.Z,QCardSection:qe.Z,QBtn:xe.Z,QSeparator:Ue.Z,QCardActions:ke.Z,QSpace:ye.Z})}}]);