"use strict";(globalThis["webpackChunktugas_akhir_smart_greenhouse"]=globalThis["webpackChunktugas_akhir_smart_greenhouse"]||[]).push([[409],{7409:(a,e,t)=>{t.r(e),t.d(e,{default:()=>K});var l=t(9835);const o=(0,l._)("span",{class:"text-h5 text-weight-light q-pa-md"},[(0,l._)("span",{class:"text-blue-grey-14"},"Ubah Data Produk")],-1),i={class:"q-pa-md"};function r(a,e,t,r,s,u){const n=(0,l.up)("q-badge"),d=(0,l.up)("q-icon"),m=(0,l.up)("q-input"),p=(0,l.up)("q-select"),g=(0,l.up)("q-img"),h=(0,l.up)("q-toggle"),A=(0,l.up)("q-btn"),c=(0,l.up)("q-form"),b=(0,l.up)("q-card"),k=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(k,{padding:"",class:"items-center-justify-center bg-grey-3"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{flat:"",class:"bg-white q-pa-md"},{default:(0,l.w5)((()=>[o,(0,l._)("div",i,[(0,l.Wm)(c,{onSubmit:u.onSubmit,class:"q-gutter-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{color:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Data Produk")])),_:1}),(0,l.Wm)(m,{label:"Nama Produk","lazy-rules":"",color:"primary",modelValue:s.NAMA_PRODUK,"onUpdate:modelValue":e[0]||(e[0]=a=>s.NAMA_PRODUK=a),rules:[a=>null!==a&&""!==a||"Nama Produk Dibutuhkan"]},{append:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"title"})])),_:1},8,["modelValue","rules"]),(0,l.Wm)(m,{label:"Harga","lazy-rules":"",color:"primary",type:"number",modelValue:s.HARGA,"onUpdate:modelValue":e[1]||(e[1]=a=>s.HARGA=a),rules:[a=>null!==a&&""!==a||"Harga Dibutuhkan"]},{append:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"attach_money"})])),_:1},8,["modelValue","rules"]),(0,l.Wm)(m,{label:"Stok","lazy-rules":"",color:"primary",type:"number",modelValue:s.STOK,"onUpdate:modelValue":e[2]||(e[2]=a=>s.STOK=a),rules:[a=>null!==a&&""!==a||"Stok Barang harus diisi"]},{append:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"storage"})])),_:1},8,["modelValue","rules"]),(0,l.Wm)(p,{modelValue:s.IDKATEGORI,"onUpdate:modelValue":e[3]||(e[3]=a=>s.IDKATEGORI=a),options:s.kategoriOptions,"emit-value":"","map-options":"",color:"primary",label:"Kategori"},{"no-option":(0,l.w5)((()=>[(0,l.Uk)(" Tidak ada opsi tersedia ")])),append:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"tag"})])),_:1},8,["modelValue","options"]),(0,l.Wm)(g,{src:s.baseUrl+this.gambar,style:{width:"250px",height:"250px"}},null,8,["src"]),(0,l.Wm)(h,{modelValue:s.gantiGambar,"onUpdate:modelValue":e[4]||(e[4]=a=>s.gantiGambar=a),label:"Ganti Gambar ?"},null,8,["modelValue"]),1==s.gantiGambar?((0,l.wg)(),(0,l.j4)(m,{key:0,"lazy-rules":"",hint:"Pilih gambar",type:"file",ref:"file",onInput:e[5]||(e[5]=a=>u.selectFile()),color:"teal",rules:[a=>null!==a&&""!==a||"Gambar Dibutuhkan"]},{append:(0,l.w5)((()=>[(0,l.Wm)(d,{name:"add_photo_alternate"})])),_:1},8,["rules"])):(0,l.kq)("",!0),(0,l._)("div",null,[(0,l.Wm)(A,{unelevated:"",icon:"add",type:"submit",label:"Simpan Data",style:{height:"50px"},color:"primary"})])])),_:1},8,["onSubmit"])])])),_:1})])),_:1})}t(9665);var s=t(1569);const u={name:"EditProduk",data(){return{gantiGambar:!1,baseUrl:"http://localhost:5050/gambar/",NAMA_PRODUK:null,HARGA:null,STOK:null,IDKATEGORI:null,GAMBAR:null,kategoriOptions:[]}},methods:{selectFile(){this.GAMBAR=this.$refs.file.$refs.input.files[0]},onSubmit(){s.api.put(`produk/edit/${this.$route.params.id}`,{NAMA_PRODUK:this.NAMA_PRODUK,HARGA:this.HARGA,STOK:this.STOK,IDKATEGORI:this.IDKATEGORI,GAMBAR:this.GAMBAR}).then((a=>{a.data.status?(this.$q.notify({color:"positive",message:a.data.message,actions:[{icon:"close",color:"white",round:!0,handler:()=>{}}]}),this.$router.push("/user/produk")):this.$q.notify({color:"negative",message:a.data.message,actions:[{icon:"close",color:"white",round:!0,handler:()=>{}}]})}))},getProdukById(){s.api.get(`produk/get/${this.$route.params.id}`).then((a=>{console.log(a),this.NAMA_PRODUK=a.data.data.NAMA_PRODUK,this.HARGA=a.data.data.HARGA,this.STOK=a.data.data.STOK,this.IDKATEGORI=a.data.data.IDKATEGORI,this.GAMBAR=a.data.data.GAMBAR}))},getKategoriOption(){s.api.get("kategori/get").then((a=>{console.log(a),this.kategoriOptions=a.data.data.map((a=>({label:a.NAMA_KATEGORI,value:a.IDKATEGORI})))}))}},mounted(){this.getKategoriOption(),this.getProdukById()}};var n=t(1639),d=t(9885),m=t(4458),p=t(8326),g=t(990),h=t(3119),A=t(2857),c=t(757),b=t(335),k=t(3175),_=t(8879),G=t(9984),R=t.n(G);const O=(0,n.Z)(u,[["render",r]]),K=O;R()(u,"components",{QPage:d.Z,QCard:m.Z,QForm:p.Z,QBadge:g.Z,QInput:h.Z,QIcon:A.Z,QSelect:c.Z,QImg:b.Z,QToggle:k.Z,QBtn:_.Z})}}]);