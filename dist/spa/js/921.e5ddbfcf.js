"use strict";(globalThis["webpackChunktugas_akhir_smart_greenhouse"]=globalThis["webpackChunktugas_akhir_smart_greenhouse"]||[]).push([[921],{921:(t,e,a)=>{a.r(e),a.d(e,{default:()=>N});var s=a(9835),l=a(6970);const i=t=>((0,s.dD)("data-v-7687b5b2"),t=t(),(0,s.Cn)(),t),r={class:"q-pa-md q-ma-md"},n={class:"item-start q-col-gutter-md"},o={class:"q-pa-sm"},m={class:"row"},c=i((()=>(0,s._)("div",{class:"col-6 text-h6"},"Dashboard",-1))),u={class:"col-3"},d={class:"flex flex-center"},p={class:"col-3 text-center"},_={class:"flex flex-center"},h={class:"row q-col-gutter-md"},g={class:"row border"};function w(t,e,a,i,w,D){const f=(0,s.up)("q-icon"),A=(0,s.up)("q-card"),T=(0,s.up)("q-item-label"),q=(0,s.up)("q-item-section"),W=(0,s.up)("q-item"),b=(0,s.up)("q-separator"),S=(0,s.up)("q-card-section"),k=(0,s.up)("q-tooltip"),x=(0,s.up)("q-btn"),v=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(v,null,{default:(0,s.w5)((()=>[(0,s._)("div",r,[(0,s._)("div",n,[(0,s._)("div",o,[(0,s.Wm)(A,{flat:"",class:"q-pt-sm q-pb-none q-px-sm"},{default:(0,s.w5)((()=>[(0,s._)("div",m,[c,(0,s._)("p",u,[(0,s._)("strong",d,[(0,s.Wm)(f,{class:"q-pr-xs",name:"schedule"}),(0,s.Uk)(" "+(0,l.zw)(w.currentTime),1)])]),(0,s._)("p",p,[(0,s._)("strong",_,[(0,s.Wm)(f,{class:"q-pr-xs",name:"today"}),(0,s.Uk)(" "+(0,l.zw)(D.formattedDate),1)])])])])),_:1})]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.selectedDataSource,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"q-px-sm q-pb-sm q-pt-none"},[(0,s.Wm)(A,{class:"q-py-sm q-px-sm"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.TANAMAN_DATA,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s.Wm)(W,null,{default:(0,s.w5)((()=>[(0,s.Wm)(q,{class:"q-pa-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(T,{class:"text-subtitle1"},{default:(0,s.w5)((()=>[(0,s._)("strong",null,"Nama Tanaman = "+(0,l.zw)(e.NAMA_TANAMAN),1)])),_:2},1024),(0,s.Wm)(T,null,{default:(0,s.w5)((()=>[(0,s.Uk)(" Media Tanam = "+(0,l.zw)(t.MEDIA_TANAM),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])))),128)),(0,s._)("div",h,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.ALAT_DATA,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"my-card",key:e},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.DATA_SENSOR,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s._)("div",g,[(0,s.Wm)(S,{class:"q-py-xs q-px-xs col"},{default:(0,s.w5)((()=>[(0,s.Wm)(W,null,{default:(0,s.w5)((()=>[(0,s.Wm)(q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(T,{class:"text-bold text-center text-subtitle1"},{default:(0,s.w5)((()=>[(0,s._)("strong",null,(0,l.zw)(t.NAMA_ALAT)+" = "+(0,l.zw)(null!==e?e.DATA_SENSOR:0),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,s.Wm)(b),(0,s.Wm)(W,null,{default:(0,s.w5)((()=>[(0,s.Wm)(q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(T,{class:"text-center text-bold text-dark",caption:""},{default:(0,s.w5)((()=>[(0,s._)("strong",null,(0,l.zw)(null!==e?D.formatTime(e.DATE_TIME):"-"),1)])),_:2},1024),(0,s.Wm)(T,{class:"text-center text-bold text-primary",caption:""},{default:(0,s.w5)((()=>[(0,s._)("strong",null,(0,l.zw)(null!==e?e.KETERANGAN:"-"),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,s.Wm)(b,{vertical:"",inset:""}),(0,s.Wm)(S,{class:"q-px-xs q-py-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(T,{class:"q-pb-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{flat:"",rounded:"",color:"primary",icon:"text_snippet",onClick:e=>D.logdata(t.MAC_ADDRESS)},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{class:"bg-primary"},{default:(0,s.w5)((()=>[(0,s.Uk)("Data Log")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024),(0,s.Wm)(b),(0,s.Wm)(T,{class:"q-pt-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{flat:"",rounded:"",color:"primary",icon:"show_chart",onClick:e=>D.chartdata(t.MAC_ADDRESS)},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{class:"bg-primary"},{default:(0,s.w5)((()=>[(0,s.Uk)("Grafik Alat")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024),(0,s.Wm)(b,{vertical:"",inset:""}),(0,s.Wm)(S,{class:"q-px-xs q-py-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(T,{class:"q-pb-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{flat:"",rounded:"",color:"primary",icon:"settings",onClick:e=>D.setalat(t.MAC_ADDRESS)},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{class:"bg-primary"},{default:(0,s.w5)((()=>[(0,s.Uk)("Set Alat")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024),(0,s.Wm)(b),(0,s.Wm)(T,{class:"q-pt-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{flat:"",rounded:"",color:"primary",icon:"dataset",onClick:e=>D.logsetalat(t.MAC_ADDRESS)},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{class:"bg-primary"},{default:(0,s.w5)((()=>[(0,s.Uk)("Log Set Alat")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])])))),128))])))),128))])])),_:2},1024)])))),128))])])])),_:1})}a(9665);var D=a(1569),f=a(4209);const A={name:"DashboardPage",data(){return{selectedDate:new Date,realTimeData:{},database:[],currentedTime:this.timeFormat(new Date),currentTime:this.formatTime(new Date),useRealTimeData:!0}},methods:{toggleDataSource(){this.useRealTimeData=!this.useRealTimeData},getSettanam(){D.api.get("settanam/getbyuser/"+this.$q.localStorage.getItem("user").IDUSER).then((t=>{console.log(t.data.data),this.database=t.data.data}))},initializeSocketIO(){const t=(0,f.io)("http://192.168.191.130:3001"),e=()=>{t.emit("send_message",{IDUSER:this.$q.localStorage.getItem("user").IDUSER})};t.on("dataUpdate",(t=>{this.realTimeData=t})),this.interval=setInterval((()=>{e()}),1e3)},updateTime(){const t=new Date;this.currentedTime=this.timeFormat(t),this.currentTime=this.formatTime(t)},formatTime(t){const e={hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},a=new Date(t).toLocaleTimeString(void 0,e);return a.startsWith("24:")?a.replace("24:","00:"):a},timeFormat(t){const e={hour:"2-digit",minute:"2-digit",hour12:!1},a=new Date(t).toLocaleTimeString(void 0,e);return a.startsWith("24:")?a.replace("24:","00:"):a},logdata(t){this.$router.push("log/"+t)},chartdata(t){this.$router.push("chart/"+t)},setalat(t){this.$router.push("inputsetalat/"+t)},logsetalat(t){this.$router.push("setalat/"+t)}},computed:{selectedDataSource(){return this.useRealTimeData&&Object.keys(this.realTimeData).length>0?this.realTimeData:this.database},formattedDate(){const t={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(this.selectedDate).toLocaleDateString("id-ID",t)},dateFormated(){const t={weekday:"short",month:"numeric",day:"numeric"};return new Date(this.selectedDate).toLocaleDateString("id-ID",t)}},beforeUnmount(){clearInterval(this.interval)},mounted(){this.initializeSocketIO(),this.updateTime(),this.interval=setInterval(this.updateTime,1e3),this.getSettanam()}};var T=a(1639),q=a(9885),W=a(4458),b=a(2857),S=a(490),k=a(1233),x=a(3115),v=a(3190),y=a(926),I=a(8879),C=a(6858),E=a(9984),R=a.n(E);const M=(0,T.Z)(A,[["render",w],["__scopeId","data-v-7687b5b2"]]),N=M;R()(A,"components",{QPage:q.Z,QCard:W.Z,QIcon:b.Z,QItem:S.Z,QItemSection:k.Z,QItemLabel:x.Z,QCardSection:v.Z,QSeparator:y.Z,QBtn:I.Z,QTooltip:C.Z})}}]);